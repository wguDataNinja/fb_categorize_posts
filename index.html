<!doctype html>
<meta charset="utf-8">
<title>FB WGU Accelerators Prototype â€“ Datasette Lite</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body{font:16px system-ui,-apple-system,Segoe UI,Roboto,sans-serif;margin:0}
  header{padding:24px}
  h1{margin:0 0 4px 0;font-size:20px}
  .sub{margin:0 0 8px 0;font-size:13px;color:#666}
  main{display:grid;grid-template-columns:280px 1fr;gap:16px;padding:0 24px 24px}
  nav a{display:block;margin:6px 0;text-decoration:none}
  nav a:hover,nav a:focus{text-decoration:underline}
  iframe{width:100%;height:78vh;border:1px solid #ddd;border-radius:8px}
  @media (max-width:900px){main{grid-template-columns:1fr} nav{order:2}}
</style>

<header>
  <h1>FB WGU Accelerators Prototype</h1>
  <p class="sub">216 posts from 9/1 to 9/14 2025</p>
</header>

<main>
  <nav id="links"></nav>
  <iframe name="ds" id="ds"></iframe>
</main>

<script>
  const DBURL = "https://wgudataninja.github.io/fb_categorize_posts/db/fb_accel_sep_1-14.db";
  const DB    = "fb_accel_sep_1-14";
  const TABLE = "fb_accelerators_sep1-14_sentiment";

  const BASE  = `https://lite.datasette.io/?v=${Date.now()}&url=${encodeURIComponent(DBURL)}`;
  const tbl   = encodeURIComponent(TABLE);
  const db    = encodeURIComponent(DB);

  const allURL = `${BASE}#${db}/${tbl}?_facet=category&_nosuggest=1`;
  const llmURL = `${BASE}#${db}/${tbl}?_facet=category&_nosuggest=1&_col=category&_col=text`;

  const items = [
    ["View Posts (All Columns)", allURL],
    ["View Posts (LLM-Friendly)", llmURL]
  ];
  document.getElementById("links").innerHTML =
    items.map(([label, href]) => `<a href="${href}" target="ds" rel="noopener">${label}</a>`).join("");
  document.getElementById("ds").src = items[0][1];
</script>