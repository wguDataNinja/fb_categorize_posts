<!doctype html>
<meta charset="utf-8">
<title>FB Accelerators â€“ Datasette Lite</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body{font:16px system-ui,-apple-system,Segoe UI,Roboto,sans-serif;margin:0}
  header{padding:24px}
  h1{margin:0 0 8px 0;font-size:20px}
  main{display:grid;grid-template-columns:280px 1fr;gap:16px;padding:0 24px 24px}
  nav a{display:block;margin:6px 0;text-decoration:none}
  nav a:hover,nav a:focus{text-decoration:underline}
  iframe{width:100%;height:78vh;border:1px solid #ddd;border-radius:8px}
  @media (max-width:900px){main{grid-template-columns:1fr} nav{order:2}}
</style>

<header>
  <h1>FB Accelerators</h1>
  <div>All posts shows every column. Category views hide rationale. LLM-Friendly shows only category and text.</div>
</header>

<main>
  <nav id="links"></nav>
  <iframe name="ds" id="ds"></iframe>
</main>

<script>
  // set these
  const CSV   = "PUT_PUBLIC_RAW_CSV_URL_HERE";
  const TABLE = "fb_accelerators_sep1-14_sentiment";

  // full category list
  const categories = [
    "celebrations_milestones",
    "course_help",
    "admin_mentor",
    "tech_platforms",
    "financial_aid_policy",
   "general_experiences",
    "motivation_fun",
    "career_jobs_networking",
    "other"
  ];

  const BASE = `https://lite.datasette.io/?csv=${encodeURIComponent(CSV)}`;
  const tbl  = encodeURIComponent(TABLE);

  // views
  const allURL = `${BASE}#data/${tbl}`; // shows all columns (incl. rationale)
  const catURL = c => `${BASE}#data/${tbl}?category=${encodeURIComponent(c)}&_hide=rationale`;
  // LLM-Friendly: all rows, sorted by category; only category + text
  const llmURL = `${BASE}#data/${tbl}?_sort=category&_hide=username&_hide=confidence&_hide=sentiment_compound&_hide=rationale`;

  const items = [
    ["All posts (shows rationale)", allURL],
    ["LLM-Friendly (category, text)", llmURL],
    ...categories.map(c => [`Category: ${c}`, catURL(c)])
  ];

  // render
  const nav = document.getElementById("links");
  nav.innerHTML = items.map(([label, href]) => `<a href="${href}" target="ds">${label}</a>`).join("");
  document.getElementById("ds").src = items[0][1]; // default = All
</script>